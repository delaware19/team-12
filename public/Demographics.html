<!DOCTYPE html>
<html>

<head>


    <title>Demographics</title>
    <link rel="stylesheet" href="Demographics.css">
    <div class="logo">
        <img src="nemours-childrens-health-system-banner.jpg" alt="ordering_logo">
        <img src="nemours-childrens-health-system.jpg" alt="ordering_logo">
    </div>
        <script src="https://www.gstatic.com/firebasejs/7.0.0/firebase-app.js"></script>
    <script src="https://www.gstatic.com/firebasejs/7.0.0/firebase-database.js"></script>

    <!-- TODO: Add SDKs for Firebase products that you want to use
         https://firebase.google.com/docs/web/setup#available-libraries -->

    <script>
      // Your web app's Firebase configuration
      var firebaseConfig = {
        apiKey: "AIzaSyB24TpKl6QsUAPNEDhe-jfAoH_0D5jUPc0",
        authDomain: "team12-8c377.firebaseapp.com",
        databaseURL: "https://team12-8c377.firebaseio.com",
        projectId: "team12-8c377",
        storageBucket: "team12-8c377.appspot.com",
        messagingSenderId: "430711974203",
        appId: "1:430711974203:web:0d4f12e62e92df4b762f1e"
      };
  // Initialize Firebase
  firebase.initializeApp(firebaseConfig);
</script>

</head>
<div class="form">
    <h1>Child Information</h1>
    <form id="Demographics" class="option" method="GET" onSubmit="choice()" >
        <body style="text-align: center">
            <text>Child's Name </text>
            <input type="text" id="childName" name="childname"></input>
            <br>
            Caregiver's Name
            <input type="text" name="caregiverName" id="parentName"></input>
             <br>
            Child's Gender 
            <select name="gender" id="gender_dropdown" width="100%" required>
                <option value="Male">Male</option>
                <option value="Female">Female</option>
            </select><br>
            Child's Age
            <select name="age" id="age_dropdown" required>
                <option value="Infant">Infant</option>
                <option value="Child">Child</option>
                <option value="Teen">Teen</option>
                <option value="Adult">Adult</option>
            </select><br>
            Child's Race
            <select name="race" id="race_dropdown" required>
                <option value="Black or African American">Black or African American</option>
                <option value="American Indian or Alaska Native">American Indian or Alaska Native</option>
                <option value="Asian">Asian</option>
                <option value="Native Hawaiian or Other Pacific Islander">Native Hawaiian or Other Pacific Islander
                </option>
                <option value="White">White</option>
            </select><br>
            <div style="text-align: center">
                <input type="button" name="story" id="choice1" value="Choose Story" onclick="chooseStory()">
                <input type="button" name="story" id="choice2" value="Create Story" onclick="createNew()">
            </div>
    </form>
    <!--<script type="text/javascript" src= "/socket.io/socket.io.js"> </script><!-->

    <script>
        

        function storeChildData(){
          //  console.log(document.getElementById('childName'));
            var child_name = document.getElementById('childName').value.toString();
            var caregiver_name = document.getElementById('parentName').value.toString();
            var child_gender = document.getElementById('gender_dropdown').value;
            var child_age= document.getElementById('age_dropdown').value;
            var child_race = document.getElementById('race_dropdown').value;

            

            //Storing child data onto firebase database
            firebase.database().ref('children/' + child_name+child_age).set({
                childname:child_name,
                caregivername:caregiver_name,
                childgender:child_gender,
                childage:child_age,
                childrace:child_race
            });
          }

          

        function chooseStory(){
            storeChildData();
         // var demo = document.querySelector('#Demographics');
         //    demo.action = "Templates.html";

         window.location.href='Templates.html';

        
       }
       function createNew() {
        storeChildData();
        // var demo = document.querySelector('#Demographics');
        // demo.action = "NewStory.html";

        window.location.href='NewStory.html';
       }
  

    </script>

    <script type="text/javascript" src="client.js"></script>

    </body>
</div>

</html>