<!DOCTYPE html>
<html>
  <head>
<!-- Slideshow container -->
    <script src="storyshow.js"></script>
    <link rel="stylesheet" type="text/css" href="storyshow.css">
  </head>

<h1 id=story_head >[Child]'s Story</h1>

<style> 
body{
  background: rgb(0,232,255);
  background: linear-gradient(90deg, rgba(0,232,255,1) 0%, rgba(255,255,255,1) 30%, rgba(255,255,255,1) 70%, rgba(0,232,255,1) 100%);
} 

h1 {
  text-align:center;
  font-family:verdana;
}

</style>

<body>

          <script src="https://www.gstatic.com/firebasejs/7.0.0/firebase-app.js"></script>
    <script src="https://www.gstatic.com/firebasejs/7.0.0/firebase-database.js"></script>

    <!-- TODO: Add SDKs for Firebase products that you want to use
         https://firebase.google.com/docs/web/setup#available-libraries -->

    <script>
      // Your web app's Firebase configuration
      var firebaseConfig = {
        apiKey: "AIzaSyB24TpKl6QsUAPNEDhe-jfAoH_0D5jUPc0",
        authDomain: "team12-8c377.firebaseapp.com",
        databaseURL: "https://team12-8c377.firebaseio.com",
        projectId: "team12-8c377",
        storageBucket: "team12-8c377.appspot.com",
        messagingSenderId: "430711974203",
        appId: "1:430711974203:web:0d4f12e62e92df4b762f1e"
      };
  // Initialize Firebase
  firebase.initializeApp(firebaseConfig);
</script>
<div id = "hold_slideshow" class="slideshow-container">
<div class="mySlides fade">
    <!--<div class="numbertext">1 / 3</div>-->
    <img src="example_image.jpg" >
    <div class="text" > </div>
    <div style="background: rgb(0,232,255);
    background: linear-gradient(90deg, rgba(0,232,255,1) 0%, rgba(255,255,255,1) 30%, rgba(255,255,255,1) 70%, rgba(0,232,255,1) 100%);">
    <input type = "text" name="caption1" id="procedureExplanation1" value="Today, I'm going to the clinic!" ></input> </div>
   
  </div>

  <div class="mySlides fade">
    <!--<div class="numbertext">2 / 3</div>-->
    <img src="example_image_2.jpg" >
    <div style="background: rgb(0,232,255);
    background: linear-gradient(90deg, rgba(0,232,255,1) 0%, rgba(255,255,255,1) 30%, rgba(255,255,255,1) 70%, rgba(0,232,255,1) 100%);">
    <input type = "text" name="caption2" id="procedureexplanation2" value="Now I'm going to [Procedure] with mommy" ></input> </div>
    
   
  </div>

  <div class="mySlides fade">
    <!--<div class="numbertext">3 / 3</div>-->
    <img src="patient_room.jpg">

    <div style="background: rgb(0,232,255);
    background: linear-gradient(90deg, rgba(0,232,255,1) 0%, rgba(255,255,255,1) 30%, rgba(255,255,255,1) 70%, rgba(0,232,255,1) 100%);">
    <input type = "text" name="caption3" id="procedureExplanation3" value="The Nurse said I did a great job today, I think so too!" ></input> 
    
  </div>
  <input type="submit" name="edit_button" id="edit" value="Edit" onclick="editCaption(document.getElementsByName('caption3'))"></input>

  <!-- Next and previous buttons -->
  <a class="prev" onclick="plusSlides(-1)">&#10094;</a>
  <a class="next" onclick="plusSlides(1)">&#10095;</a>

</div>

<div style="text-align:center">
  <span class="dot" id="Dot1" onclick="currentSlide(1)"></span>
  <span class="dot" id="Do2t"onclick="currentSlide(2)"></span>
  <span class="dot" id ="Dot3" onclick="currentSlide(3)"></span>
  </div>
  

</body>


<script type="text/javascript" >

  function includingAttributes(){
    var welcometonemours = document.getElementById('welcometonemours');
    var procedureExplanation1 = document.getElementById('procedureExplanation1');
    var procedureExplanation2 = document.getElementById('procedureExplanation2');
    var procedureExplanation3 = document.getElementById('procedureExplanation3');
    var storyheader = document.getElementById('story_head');

    var childname = sessionStorage.getItem("childname");
    var childage = sessionStorage.getItem("childage");
    var procedure = sessionStorage.getItem("procedure");


    storyheader.innerHTML = childname + "'s Story";
    // procedureExplanation.innerHTML = "Now I'm going to "+procedure+" with my parent";


    console.log(sessionStorage);
    
    currentSlide(1);
  };


var root = firebase.database().ref('team12-8c377');

function editCaption(){
      var storyid = 1011
      var str1 = document.getElementById("caption1")
      var str2 = document.getElementById("caption2")
      var str3 = document.getElementById("caption3")

function editCaption(name){

      var storyid = 1011;
      var str = document.getElementById("caption1")
      var str = document.getElementById("caption2")
      var str = document.getElementById("caption3")
      firebase.database().ref('users/' + str).set({
          storyID: storyid,
          caption1:  str1,
          caption2: str2,
          caption3: str3
      });
}

  window.addEventListener('load', function(){
    currentSlide(1);
    includingAttributes();
  });
    

</script>
</html>